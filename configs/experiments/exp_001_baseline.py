# configs/experiments/exp_001_baseline.py
"""
Minimal baseline experiment.
- Uses synthetic dataset generated by data/dataset_generator.py
- Keeps batch sizes small and seq len modest for quick sanity checks.
"""
from pathlib import Path
from configs.base_config import make_train_config, PROCESSED_DIR, DEFAULT_MODEL_ID

TRAIN_FILE = str(PROCESSED_DIR / "trading_scenarios_train.jsonl")
EVAL_FILE  = str(PROCESSED_DIR / "trading_scenarios_eval.jsonl")
FIELD_NAME = "text"

def get_experiment():
    cfg = make_train_config(
        model_id=DEFAULT_MODEL_ID,
        max_seq_len=384,
        epochs=1,
        train_bs=1,
        eval_bs=1,
        grad_accum=8,
        phase1_edges_only=True,
        phase2_unfreeze_at_epoch=None,
        dtype="bf16",
        out_dir=str(Path(PROCESSED_DIR).parents[1] / "outputs" / "exp_baseline"),
        log_every=10,
        eval_every=300,
        save_every=1200,
    )
    return cfg, TRAIN_FILE, EVAL_FILE, FIELD_NAME

